<div *ngIf="(book$ | async) as book; else: loading">
  <book-details-form
    *ngIf="!isEditMode"
    [book]="book"
    [showEditButton]="authService.canEditBook()"
    (edit)="edit($event)"
  ></book-details-form>

  <book-edit-form
    *ngIf="isEditMode"
    [book]="book"
    [authors]="authors$ | async"
    [publishers]="publishers$ | async"
    (saveBook)="save($event)"
    (cancelEdit)="cancelEdit($event)"
  ></book-edit-form>
</div>

<ng-template #loading> Loading... </ng-template>
